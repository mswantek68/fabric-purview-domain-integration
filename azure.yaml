name: ai-fabric-foundry
infra:
  provider: bicep
hooks:
  postprovision:
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/ensure_active_capacity.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/create_fabric_domain.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/create_fabric_workspace.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/assign_workspace_to_domain.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/create_purview_collection.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/register_fabric_datasource.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/setup_fabric_scan_guidance.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/trigger_purview_scan_for_fabric_workspace.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/connect_log_analytics.ps1
      interactive: false
    - run: pwsh -NoProfile -NonInteractive -File ./scripts/create_lakehouses.ps1
      interactive: false
metadata:
  template: ''